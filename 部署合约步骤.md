# ğŸ“ ç«‹å³éƒ¨ç½² NFT åˆçº¦ - è¯¦ç»†æ­¥éª¤

## ğŸ¯ é—®é¢˜è¯´æ˜

**å½“å‰çŠ¶æ€**: åˆçº¦åœ°å€æ˜¯å ä½ç¬¦ `0x0000000000000000000000000000000000000000`  
**ç»“æœ**: äº¤æ˜“å‘é€åˆ°é›¶åœ°å€ï¼Œæ²¡æœ‰å®é™…é“¸é€  NFT âŒ

**éœ€è¦åšçš„**: éƒ¨ç½²çœŸæ­£çš„ NFT åˆçº¦åˆ° Sepolia æµ‹è¯•ç½‘ âœ…

---

## ğŸš€ ä½¿ç”¨ Remix IDE éƒ¨ç½²ï¼ˆ5åˆ†é’Ÿå®Œæˆï¼‰

### æ­¥éª¤ 1: å‡†å¤‡å·¥ä½œ

1. **ç¡®ä¿ MetaMask å·²å®‰è£…å¹¶è¿æ¥åˆ° Sepolia æµ‹è¯•ç½‘**
   - æ‰“å¼€ MetaMask
   - ç‚¹å‡»ç½‘ç»œé€‰æ‹©å™¨ â†’ é€‰æ‹© "Sepolia test network"
   
2. **ç¡®ä¿æœ‰æµ‹è¯•å¸**ï¼ˆè‡³å°‘ 0.01 ETHï¼‰
   - å¦‚æœæ²¡æœ‰ï¼Œè®¿é—®æ°´é¾™å¤´ï¼šhttps://sepoliafaucet.com/
   - è¾“å…¥æ‚¨çš„é’±åŒ…åœ°å€è·å–æµ‹è¯•å¸

### æ­¥éª¤ 2: æ‰“å¼€ Remix IDE

è®¿é—®ï¼š**https://remix.ethereum.org/**

### æ­¥éª¤ 3: åˆ›å»ºåˆçº¦æ–‡ä»¶

1. åœ¨å·¦ä¾§ "File Explorer" ä¸­
2. å³é”®ç‚¹å‡» `contracts` æ–‡ä»¶å¤¹ â†’ "New File"
3. æ–‡ä»¶åè¾“å…¥ï¼š`MemoryToken.sol`
4. å°†ä¸‹é¢çš„åˆçº¦ä»£ç å¤åˆ¶ç²˜è´´è¿›å»ï¼š

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20;

import "@openzeppelin/contracts/token/ERC721/ERC721.sol";
import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

/**
 * @title MemoryToken
 * @dev NFTåˆçº¦ï¼Œç”¨äºé“¸é€ äººæ–‡æ•…äº‹è®°å¿†ä»£å¸
 * æ”¯æŒç”¨æˆ·è‡ªå·±é“¸é€ ï¼ˆå…¬å¼€é“¸é€ ï¼‰å’Œç®¡ç†å‘˜é“¸é€ 
 */
contract MemoryToken is ERC721, ERC721URIStorage, Ownable {
    uint256 private _tokenIdCounter;
    
    // é“¸é€ è´¹ç”¨ï¼ˆè®¾ç½®ä¸º0å®ç°å…è´¹é“¸é€ ï¼‰
    uint256 public mintPrice = 0;
    
    // æ˜¯å¦å¯ç”¨å…¬å¼€é“¸é€ 
    bool public publicMintEnabled = true;
    
    // äº‹ä»¶ï¼šå½“æ–°çš„NFTè¢«é“¸é€ æ—¶è§¦å‘
    event TokenMinted(address indexed recipient, uint256 indexed tokenId, string tokenURI);

    constructor() ERC721("MemoryToken", "MEMORY") Ownable(msg.sender) {
        _tokenIdCounter = 0;
    }

    /**
     * @dev ç”¨æˆ·è‡ªå·±é“¸é€ NFTï¼ˆå…¬å¼€é“¸é€ ï¼‰
     * @param tokenURI NFTçš„å…ƒæ•°æ®URI
     */
    function mint(string memory tokenURI) public payable returns (uint256) {
        require(publicMintEnabled, "Public minting is disabled");
        require(msg.value >= mintPrice, "Insufficient payment");
        require(bytes(tokenURI).length > 0, "Token URI cannot be empty");
        
        uint256 tokenId = _tokenIdCounter;
        _tokenIdCounter++;
        
        _safeMint(msg.sender, tokenId);
        _setTokenURI(tokenId, tokenURI);
        
        emit TokenMinted(msg.sender, tokenId, tokenURI);
        return tokenId;
    }

    /**
     * @dev ç®¡ç†å‘˜é“¸é€ NFTç»™æŒ‡å®šåœ°å€ï¼ˆä»…åˆçº¦æ‰€æœ‰è€…ï¼‰
     * @param recipient æ¥æ”¶NFTçš„åœ°å€
     * @param tokenURI NFTçš„å…ƒæ•°æ®URI
     */
    function mintToken(address recipient, string memory tokenURI) 
        public 
        onlyOwner 
        returns (uint256) 
    {
        require(recipient != address(0), "Invalid recipient address");
        require(bytes(tokenURI).length > 0, "Token URI cannot be empty");

        uint256 tokenId = _tokenIdCounter;
        _tokenIdCounter++;

        _safeMint(recipient, tokenId);
        _setTokenURI(tokenId, tokenURI);

        emit TokenMinted(recipient, tokenId, tokenURI);
        return tokenId;
    }

    /**
     * @dev è®¾ç½®é“¸é€ ä»·æ ¼ï¼ˆä»…åˆçº¦æ‰€æœ‰è€…ï¼‰
     */
    function setMintPrice(uint256 _price) public onlyOwner {
        mintPrice = _price;
    }

    /**
     * @dev å¯ç”¨æˆ–ç¦ç”¨å…¬å¼€é“¸é€ ï¼ˆä»…åˆçº¦æ‰€æœ‰è€…ï¼‰
     */
    function setPublicMintEnabled(bool _enabled) public onlyOwner {
        publicMintEnabled = _enabled;
    }

    /**
     * @dev æå–åˆçº¦ä½™é¢ï¼ˆä»…åˆçº¦æ‰€æœ‰è€…ï¼‰
     */
    function withdraw() public onlyOwner {
        payable(owner()).transfer(address(this).balance);
    }

    /**
     * @dev è·å–å½“å‰Tokenè®¡æ•°
     */
    function getCurrentTokenId() public view returns (uint256) {
        return _tokenIdCounter;
    }

    /**
     * @dev è·å–ç”¨æˆ·æ‹¥æœ‰çš„æ‰€æœ‰NFT ID
     */
    function tokensOfOwner(address _owner) public view returns (uint256[] memory) {
        uint256 tokenCount = balanceOf(_owner);
        uint256[] memory tokenIds = new uint256[](tokenCount);
        uint256 index = 0;
        
        for (uint256 i = 0; i < _tokenIdCounter; i++) {
            if (_ownerOf(i) == _owner) {
                tokenIds[index] = i;
                index++;
            }
        }
        
        return tokenIds;
    }

    // ä»¥ä¸‹å‡½æ•°ä¸ºå¿…éœ€çš„override
    function tokenURI(uint256 tokenId)
        public
        view
        override(ERC721, ERC721URIStorage)
        returns (string memory)
    {
        return super.tokenURI(tokenId);
    }

    function supportsInterface(bytes4 interfaceId)
        public
        view
        override(ERC721, ERC721URIStorage)
        returns (bool)
    {
        return super.supportsInterface(interfaceId);
    }
}
```

### æ­¥éª¤ 4: ç¼–è¯‘åˆçº¦

1. ç‚¹å‡»å·¦ä¾§çš„ **"Solidity Compiler"** å›¾æ ‡ï¼ˆç¬¬äºŒä¸ªå›¾æ ‡ï¼‰
2. é€‰æ‹©ç¼–è¯‘å™¨ç‰ˆæœ¬ï¼š**0.8.20** æˆ–æ›´é«˜ï¼ˆå¦‚ 0.8.27ï¼‰
3. ç‚¹å‡»è“è‰²çš„ **"Compile MemoryToken.sol"** æŒ‰é’®
4. ç­‰å¾…ç¼–è¯‘å®Œæˆï¼ˆåº”è¯¥æ˜¾ç¤ºç»¿è‰²å¯¹å‹¾ âœ…ï¼‰

### æ­¥éª¤ 5: éƒ¨ç½²åˆçº¦

1. ç‚¹å‡»å·¦ä¾§çš„ **"Deploy & Run Transactions"** å›¾æ ‡ï¼ˆç¬¬ä¸‰ä¸ªå›¾æ ‡ï¼‰
2. **Environment** é€‰æ‹©ï¼š`Injected Provider - MetaMask`
   - MetaMask ä¼šå¼¹å‡ºè¿æ¥è¯·æ±‚
   - ç‚¹å‡» "Next" â†’ "Connect"
3. ç¡®è®¤æ˜¾ç¤ºçš„è´¦æˆ·æ˜¯æ‚¨çš„ MetaMask è´¦æˆ·
4. ç¡®è®¤ç½‘ç»œæ˜¯ **Sepolia (11155111)**
5. **Contract** ä¸‹æ‹‰æ¡†é€‰æ‹©ï¼š`MemoryToken - contracts/MemoryToken.sol`
6. ç‚¹å‡»æ©™è‰²çš„ **"Deploy"** æŒ‰é’®
7. **MetaMask ä¼šå¼¹å‡ºäº¤æ˜“ç¡®è®¤çª—å£**ï¼š
   - æ£€æŸ¥ Gas è´¹ç”¨ï¼ˆå¤§çº¦ 0.005-0.01 ETHï¼‰
   - ç‚¹å‡» **"ç¡®è®¤"** å‘é€äº¤æ˜“
8. ç­‰å¾…äº¤æ˜“ç¡®è®¤ï¼ˆ10-30 ç§’ï¼‰

### æ­¥éª¤ 6: å¤åˆ¶åˆçº¦åœ°å€

1. éƒ¨ç½²æˆåŠŸåï¼Œåœ¨åº•éƒ¨ **"Deployed Contracts"** åŒºåŸŸä¼šå‡ºç°æ‚¨çš„åˆçº¦
2. çœ‹åˆ°ç±»ä¼¼ï¼š`MEMORYTOKEN AT 0xABC123...` 
3. ç‚¹å‡»åˆçº¦åœ°å€æ—è¾¹çš„ **ğŸ“‹ å¤åˆ¶æŒ‰é’®**
4. **ä¿å­˜è¿™ä¸ªåœ°å€ï¼**ï¼ˆæ ¼å¼ç±»ä¼¼ï¼š`0x1234567890abcdef1234567890abcdef12345678`ï¼‰

---

## ğŸ”§ æ­¥éª¤ 7: æ›´æ–°é¡¹ç›®é…ç½®

### æ‰“å¼€ `.env` æ–‡ä»¶

```bash
nano /Users/rebeccawang/web3/dda/DAA_MVP/.env
```

### æ›´æ–°åˆçº¦åœ°å€

æ‰¾åˆ°è¿™ä¸€è¡Œï¼š
```
CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000
```

æ›¿æ¢ä¸ºæ‚¨åˆšæ‰å¤åˆ¶çš„çœŸå®åˆçº¦åœ°å€ï¼š
```
CONTRACT_ADDRESS=0xæ‚¨åˆšæ‰å¤åˆ¶çš„åˆçº¦åœ°å€
```

### ä¿å­˜æ–‡ä»¶

- æŒ‰ `Ctrl + O` ä¿å­˜
- æŒ‰ `Enter` ç¡®è®¤
- æŒ‰ `Ctrl + X` é€€å‡º

---

## âœ… æ­¥éª¤ 8: é‡å¯æœåŠ¡å™¨

æœåŠ¡å™¨ä¼šè‡ªåŠ¨é‡æ–°åŠ è½½é…ç½®ï¼Œæˆ–è€…æ‰‹åŠ¨é‡å¯ï¼š

åœ¨ç»ˆç«¯æŒ‰ `Ctrl + C` åœæ­¢æœåŠ¡å™¨ï¼Œç„¶åé‡æ–°å¯åŠ¨ã€‚

---

## ğŸ‰ æ­¥éª¤ 9: æµ‹è¯•é“¸é€ 

1. è®¿é—® **http://localhost:5001**
2. ç‚¹å‡» **"ğŸ” è¿æ¥é’±åŒ…"**
3. åœ¨ MetaMask ä¸­æˆæƒè¿æ¥
4. è¾“å…¥ä¸€ä¸ªæ•…äº‹å¹¶è¯„ä¼°
5. ç‚¹å‡» **"ğŸ¨ é“¸é€  NFT"**
6. åœ¨ MetaMask ä¸­ç¡®è®¤äº¤æ˜“
7. ç­‰å¾…æˆåŠŸï¼

è¿™æ¬¡æ‚¨ä¼šçœŸæ­£æ”¶åˆ° NFTï¼ ğŸŠ

---

## ğŸ“Š éªŒè¯æ‚¨çš„ NFT

### åœ¨ Remix ä¸­éªŒè¯

1. åœ¨ "Deployed Contracts" ä¸­å±•å¼€æ‚¨çš„åˆçº¦
2. æ‰¾åˆ° `tokensOfOwner` å‡½æ•°
3. è¾“å…¥æ‚¨çš„é’±åŒ…åœ°å€
4. ç‚¹å‡» "call"
5. åº”è¯¥æ˜¾ç¤ºæ‚¨æ‹¥æœ‰çš„ NFT ID æ•°ç»„

### åœ¨åŒºå—æµè§ˆå™¨éªŒè¯

1. è®¿é—®ï¼šhttps://sepolia.etherscan.io/
2. æœç´¢æ‚¨çš„åˆçº¦åœ°å€
3. æŸ¥çœ‹ "Contract" â†’ "Read Contract"
4. è°ƒç”¨ `balanceOf` æŸ¥çœ‹æ‚¨çš„ NFT æ•°é‡

### åœ¨ OpenSea æµ‹è¯•ç½‘æŸ¥çœ‹

1. è®¿é—®ï¼šhttps://testnets.opensea.io/
2. è¿æ¥é’±åŒ…
3. æŸ¥çœ‹ "Profile"
4. åº”è¯¥èƒ½çœ‹åˆ°æ‚¨çš„ MemoryToken NFTï¼

---

## ğŸ¯ å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] MetaMask å·²å®‰è£…å¹¶è¿æ¥åˆ° Sepolia
- [ ] é’±åŒ…æœ‰æµ‹è¯•å¸ï¼ˆâ‰¥ 0.01 ETHï¼‰
- [ ] åœ¨ Remix ä¸­åˆ›å»ºå¹¶ç¼–è¯‘åˆçº¦
- [ ] æˆåŠŸéƒ¨ç½²åˆçº¦
- [ ] å¤åˆ¶äº†åˆçº¦åœ°å€
- [ ] æ›´æ–°äº† `.env` æ–‡ä»¶ä¸­çš„ `CONTRACT_ADDRESS`
- [ ] é‡å¯äº†æœåŠ¡å™¨
- [ ] æµ‹è¯•é“¸é€ æˆåŠŸå¹¶æ”¶åˆ° NFT

---

## â“ å¦‚æœé‡åˆ°é—®é¢˜

**ç¼–è¯‘é”™è¯¯ï¼Ÿ**
- ç¡®ä¿é€‰æ‹©äº†æ­£ç¡®çš„ Solidity ç‰ˆæœ¬ï¼ˆâ‰¥ 0.8.20ï¼‰
- ç¡®ä¿ä»£ç å®Œæ•´å¤åˆ¶

**éƒ¨ç½²å¤±è´¥ï¼Ÿ**
- æ£€æŸ¥ MetaMask æ˜¯å¦åœ¨ Sepolia ç½‘ç»œ
- ç¡®ä¿æœ‰è¶³å¤Ÿçš„æµ‹è¯•å¸
- åˆ·æ–° Remix é¡µé¢é‡è¯•

**é“¸é€ å¤±è´¥ï¼Ÿ**
- ç¡®ä¿ `.env` ä¸­çš„åˆçº¦åœ°å€æ­£ç¡®
- ç¡®ä¿å·²é‡å¯æœåŠ¡å™¨
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯

---

**ç°åœ¨å¼€å§‹éƒ¨ç½²å§ï¼** ğŸš€

å®Œæˆåå‘Šè¯‰æˆ‘åˆçº¦åœ°å€ï¼Œæˆ‘ä¼šå¸®æ‚¨éªŒè¯ï¼

